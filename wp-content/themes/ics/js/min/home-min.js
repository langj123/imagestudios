function showTop(){topShown=!0,$("#banner .navbar-inner").stop().animate({"margin-top":0},300,"linear")}function hideTop(){topShown=!1,$("#banner .navbar-inner").stop().animate({"margin-top":-60},300,"linear")}jQuery(document).ready(function(){$(".curtains > li").css({position:"absolute"}),$("#work, #about, #footer").css({top:"100%"}),$("#footer .blimptext, #blimp .blimptext").css({top:"140%"}),$("#tagline").css({"margin-top":0}),$("#banner .navbar-inner").css({"margin-top":-55}),$("#client-wrap").hide("0"),$("div.client-carousel").carousel({autoslide:!0}),$("#slider-code").tinycarousel({display:4,duration:500});var t=function(){var t=$(window).height()-$("#tagline").height();t=t>60?t/2:60,$("#tagline").css({"margin-top":t})};t();var n=null;$(window).resize(function(){null!=n&&clearTimeout(n),n=setTimeout(t,100)}),$("#show-clients").click(function(){$("#client-wrap").is(":visible")?($("#client-wrap").slideUp(500,function(){kikaScroll.scrollAnimate.resize()}),$("#show-clients").text("Our Clients")):($("#client-wrap").slideDown(500,function(){kikaScroll.scrollAnimate.resize()}),$("#show-clients").text("Hide Clients"))})}),function($){function t(t){var n=t||window.event,e=[].slice.call(arguments,1),i=0,o=!0,r=0,s=0;return t=$.event.fix(n),t.type="mousewheel",n.wheelDelta&&(i=n.wheelDelta/120),n.detail&&(i=-n.detail/3),s=i,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(s=0,r=-1*i),void 0!==n.wheelDeltaY&&(s=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(r=-1*n.wheelDeltaX/120),e.unshift(t,i,r,s),($.event.dispatch||$.event.handle).apply(this,e)}var n=["DOMMouseScroll","mousewheel"];if($.event.fixHooks)for(var e=n.length;e;)$.event.fixHooks[n[--e]]=$.event.mouseHooks;$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery);var TWEEN=TWEEN||function(){var t,n,e,i,o=60,r=!1,s=[],a;return{setFPS:function(t){o=t||60},start:function(t){0!=arguments.length&&this.setFPS(t),e=setInterval(this.update,1e3/o)},stop:function(){clearInterval(e)},setAutostart:function(t){r=t,r&&!e&&this.start()},add:function(t){s.push(t),r&&!e&&this.start()},getAll:function(){return s},removeAll:function(){s=[]},remove:function(n){t=s.indexOf(n),-1!==t&&s.splice(t,1)},update:function(n){t=0,a=s.length;for(var e=n||(new Date).getTime();a>t;)s[t].update(e)?t++:(s.splice(t,1),a--);0==a&&1==r&&this.stop()}}}();TWEEN.Tween=function(t){var n=t,e={},i={},o={},r=1e3,s=0,a=null,c=TWEEN.Easing.Linear.EaseNone,u=null,l=null,p=null;this.to=function(t,e){null!==e&&(r=e);for(var i in t)null!==n[i]&&(o[i]=t[i]);return this},this.start=function(t){TWEEN.add(this),a=t?t+s:(new Date).getTime()+s;for(var r in o)null!==n[r]&&(e[r]=n[r],i[r]=o[r]-n[r]);return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(t){return s=t,this},this.easing=function(t){return c=t,this},this.chain=function(t){return u=t,this},this.onUpdate=function(t){return l=t,this},this.onComplete=function(t){return p=t,this},this.update=function(t){var o,s,f;if(a>t)return!0;s=(t-a)/r,s=s>1?1:s,f=c(s);for(o in i)n[o]=e[o]+i[o]*f;return null!==l&&l.call(n,f),1==s?(null!==p&&p.call(n),null!==u&&u.start(),!1):!0}},TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}},TWEEN.Easing.Linear.EaseNone=function(t){return t},TWEEN.Easing.Quadratic.EaseIn=function(t){return t*t},TWEEN.Easing.Quadratic.EaseOut=function(t){return-t*(t-2)},TWEEN.Easing.Quadratic.EaseInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},TWEEN.Easing.Cubic.EaseIn=function(t){return t*t*t},TWEEN.Easing.Cubic.EaseOut=function(t){return--t*t*t+1},TWEEN.Easing.Cubic.EaseInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},TWEEN.Easing.Quartic.EaseIn=function(t){return t*t*t*t},TWEEN.Easing.Quartic.EaseOut=function(t){return-(--t*t*t*t-1)},TWEEN.Easing.Quartic.EaseInOut=function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},TWEEN.Easing.Quintic.EaseIn=function(t){return t*t*t*t*t},TWEEN.Easing.Quintic.EaseOut=function(t){return(t-=1)*t*t*t*t+1},TWEEN.Easing.Quintic.EaseInOut=function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},TWEEN.Easing.Sinusoidal.EaseIn=function(t){return-Math.cos(t*Math.PI/2)+1},TWEEN.Easing.Sinusoidal.EaseOut=function(t){return Math.sin(t*Math.PI/2)},TWEEN.Easing.Sinusoidal.EaseInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},TWEEN.Easing.Exponential.EaseIn=function(t){return 0==t?0:Math.pow(2,10*(t-1))},TWEEN.Easing.Exponential.EaseOut=function(t){return 1==t?1:-Math.pow(2,-10*t)+1},TWEEN.Easing.Exponential.EaseInOut=function(t){return 0==t?0:1==t?1:(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*(t-1))+2)},TWEEN.Easing.Circular.EaseIn=function(t){return-(Math.sqrt(1-t*t)-1)},TWEEN.Easing.Circular.EaseOut=function(t){return Math.sqrt(1- --t*t)},TWEEN.Easing.Circular.EaseInOut=function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},TWEEN.Easing.Elastic.EaseIn=function(t){var n,e=.1,i=.4;return 0==t?0:1==t?1:(i||(i=.3),!e||1>e?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)))},TWEEN.Easing.Elastic.EaseOut=function(t){var n,e=.1,i=.4;return 0==t?0:1==t?1:(i||(i=.3),!e||1>e?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/i)+1)},TWEEN.Easing.Elastic.EaseInOut=function(t){var n,e=.1,i=.4;return 0==t?0:1==t?1:(i||(i=.3),!e||1>e?(e=1,n=i/4):n=i/(2*Math.PI)*Math.asin(1/e),(t*=2)<1?-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)):e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/i)*.5+1)},TWEEN.Easing.Back.EaseIn=function(t){var n=1.70158;return t*t*((n+1)*t-n)},TWEEN.Easing.Back.EaseOut=function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},TWEEN.Easing.Back.EaseInOut=function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)},TWEEN.Easing.Bounce.EaseIn=function(t){return 1-TWEEN.Easing.Bounce.EaseOut(1-t)},TWEEN.Easing.Bounce.EaseOut=function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},TWEEN.Easing.Bounce.EaseInOut=function(t){return.5>t?.5*TWEEN.Easing.Bounce.EaseIn(2*t):.5*TWEEN.Easing.Bounce.EaseOut(2*t-1)+.5};var infinity=!1,scrollMouseDown=!1,mouseDownTimer=null,breakertest,animcounter=0,outsideAnimLoop;!function($){function t(t){function n(){return j}function e(){window.cancelRequestAnimFrame(outsideAnimLoop)}function i(t){V=t}function o(){if(I>0)return void I--;for(var t=x.getScrollTop(),n=0;n<V.length;n++){var e=V[n],i=e.correct?t:t;if(i>e.position){var o=n==V.length-1?x.getMaxScroll():V[n+1].position;if(o>i)return void a(n)}}}function r(t,n){for(var e=0;e<V.length;e++)if(V[e].tag===t){var i=V[e].position;return i=V[e].offset?i+V[e].offset:i,i=i>x.getScrollTop()?i+5:i-5,n?(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.toLowerCase().indexOf("android")>-1||$(window).scrollTop(i),x.setScrollHard(i),x.scrollTo(i+1)):(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.toLowerCase().indexOf("android")>-1||$(window).scrollTop(i),x.scrollTo(i)),void a(e)}}function s(t){for(var n=0;n<V.length;n++)if(V[n].tag===t){var e=V[n].position;return e=e>x.getScrollTop()?e+5:kikaScroll.maxScroll+e+5,x.scrollTo(e),void a(n)}}function a(t){T!=t&&(T=t,(1==t||2==t||4==t)&&location.hash!=V[t].tag&&(history.pushState?history.pushState({},"",V[t].tag):location.hash=V[t].tag,$(".navbar .active").removeClass("active"),$(".menu-"+V[t].name).addClass("active")))}function c(){return T}function u(t){H=t,F=0,R=0,C=!1,O=$("#scrollBar"),O.show(),P=$("#scrollBar .thumb"),P.css("height",H+"px"),P.bind("mousedown",m)}function l(){D=S,O.css("height",D+"px"),p(R)}function p(t){F=(D-H)*t,P.css("top",F)}function f(t){return L=t,z=F-t.pageY>0?-1*b:b,R=F/(D-H)+z,R=R>1?1:Math.max(0,R),x.scrollTo(tt*R),B=setTimeout(function(){f(L)},200),!1}function h(t){clearTimeout(B),B=setTimeout(function(){f(t)},40)}function d(t){return C=!1,$(document).unbind("mouseup",d),clearTimeout(B),!1}function m(t){return C=!0,z=F-t.pageY,$(document).bind("mouseup",g),!1}function g(t){return C=!1,$(document).unbind("mouseup",g),!1}function w(){return"ontouchstart"in window}var E={},v={startAt:1,sectionCheckInterval:1e3,clampWidth:1600,tracking:!1},x,T=1,I=1,A=0,k,S,y,N,b,W,M,O,P,C,L,B,D,H,z,F,R,Q=!0,q,_,Y=(new Date).getTime(),U=3,X=!1,j,Z=0,G=7800,J=0,K=0,V=t.sectionIndex,tt=t.maxScroll,nt=t.animation,et=t.waypoints,it=t.container,ot=t.useBrowserScrollBar,rt=function(t){return E=$.extend(v,t),ot?(u(37),O.hide(),$(window).scroll(function(){var t=$(window).scrollTop();kikaScroll.scrollAnimate.scrollTo(t)})):w()||(u(37),$("#scrollBar .thumb").mousedown(function(t){scrollMouseDown=!0}),$("#scrollBar .thumb").mouseup(function(t){scrollMouseDown=!1})),window.location.hash,x=ScrollAnimator(),x.init({animation:nt,waypoints:et,scrollOffset:K,useBrowserScrollBar:ot,maxScroll:tt,useRAF:!1,tickSpeed:70,scrollSpeed:35,debug:!1,tweenSpeed:.4,startAt:E.startAt,container:it,onStart:function(){},onResize:function(t){if(S=t.wHeight,y=t.wWidth>E.clampWidth?E.clampWidth>0&&$(window).width()>E.clampWidth?E.clampWidth:$(window).width():E.clampWidth>0&&t.wWidth>E.clampWidth?E.clampWidth:t.wWidth,N=t.wCenter,b=S/tt,O.length>0&&l(),ot&&kikaScroll){for(var n=$(window).height(),e=$(".curtains").children(),i=0,o=0;o<e.length;o++){var r=$(e[o]).height();(0==o||3==o||5==o)&&(r=n),4==o&&(r+=n),V[o].position=i,V[o].height=r,i+=r}$("#forceHeight").css({height:i}),x.animation()[0].keyframes[1].properties["margin-top"]=-n,x.animation()[2].keyframes[1].properties["margin-top"]=-V[1].height,x.animation()[3].keyframes[1].properties["margin-top"]=-n,x.animation()[4].keyframes[0].properties["margin-top"]=-n,x.animation()[4].keyframes[1].properties["margin-top"]=-V[2].height-n,x.animation()[8].keyframes[1].properties["margin-top"]=-V[4].height-n,x.animation()[11].keyframes[1].properties["margin-top"]=(n-V[6].height)/2-$("#space .blimptext").height()/2,x.animation()[12].keyframes[1].properties["margin-top"]=-V[6].height,V[4].offset=n,tt=i,x.setMaxScroll(tt)}x.scrollTo(x.getScrollTop())},onUpdate:function(t){O&&p(t/kikaScroll.maxScroll)}}),setInterval(o,E.sectionCheckInterval),x};return $(window).keydown(function(t){if(40==t.keyCode||39==t.keyCode){var n=x.getScrollTop(),e=n+70;x.scrollTo(e)}if(38==t.keyCode||37==t.keyCode){var n=x.getScrollTop(),e=n-70;x.scrollTo(e)}}),$(document).on("mousewheel",function(t,n){}),$(document).on("click",".scrollTo",function(t){t.preventDefault();var n=this.hash?this.hash:$(this).find("a")[0].hash;return kikaScroll.gotoSectionTag(n),!1}),$(document).on("click","#nextscreen",function(t){t.preventDefault();var n=kikaScroll.getCurrentSection()+2,e=n>9?1:n;return kikaScroll.gotoNextSection(V[e].id),!1}),$(document).on("mousedown","#scrollBar",function(t){return $(t.target).hasClass("thumb")||(f(t),C=!0,$(document).bind("mouseup",d)),!1}),rt(),{init:rt,scrollAnimate:x,setScrollBarPosition:p,gotoSectionTag:r,enterSection:a,setSectionIndex:i,resizeScrollBar:l,sectionIndex:V,maxScroll:tt,gotoNextSection:s,getCurrentSection:c,getAnimLoop:n,stopAnimLoop:e}}$.extend(!0,window,{scrollax:{make:t}})}(jQuery);var ScrollAnimator=function(){function t(){if(outsideAnimLoop=requestAnimFrame(t),!B&&Math.ceil(X)!==Math.floor(j)){$("#scrolldiv").html("<div>Scrolltop "+j+" and scrollTopTweened "+X+"</div>"),X+=P.tweenSpeed*(j-X),Z=j>X?1:-1;for(var o in D){var r=D[o],s="function"==typeof r.startAt?r.startAt():r.startAt,a="function"==typeof r.endAt?r.endAt():r.endAt;X>=s&&a>=X?(e(r),n(r)):i(r)}for(var o=0;o<H.length;o++){var c=$(H[o].el).offset().top;R&&(c-=$(window).scrollTop()),H[o].offset&&(c+=H[o].offset),c>=0&&"down"==H[o].d?(H[o].d="up",H[o].func(H[o].d)):0>=c&&"up"==H[o].d&&(H[o].d="down",H[o].func(H[o].d))}"function"==typeof P.onUpdate&&P.onUpdate(X)}}function n(t){var n="function"==typeof t.startAt?t.startAt():t.startAt,e="function"==typeof t.endAt?t.endAt():t.endAt,i=(n-X)/(n-e);i=Math.max(0,Math.min(1,i));var o={};if(t.lastProgress=i,t.keyframes)for(var r=1;r<t.keyframes.length;r++){var s=t.keyframes[r],a=t.keyframes[r-1],c=(a.position-i)/(a.position-s.position);if(c>=0&&1>=c){s.onProgress&&"function"==typeof s.onProgress&&s.onProgress(c,Z);for(var u in s.properties)if("background-position"===u&&s.properties[u].hasOwnProperty("x")){var l=s.properties[u],p=a.properties[u],f="";f+="number"==typeof l.x?h(p.x,l.x,c,1,s.ease)+"px":l.x,f+=" ",f+="number"==typeof l.y?h(p.y,l.y,c,1,s.ease)+"px":l.y,o[u]=f}else o[u]=h(a.properties[u],s.properties[u],c,1,s.ease)}}t._elem.css(o),t.onProgress&&"function"==typeof t.onProgress&&t.onProgress.call(t,i)}function e(t){t._started||(t.onStartAnimate&&"function"==typeof t.onStartAnimate&&t.onStartAnimate.call(t,Z),t._started=!0)}function i(t){var e="function"==typeof t.startAt?t.startAt():t.startAt,i="function"==typeof t.endAt?t.endAt():t.endAt;(t._started&&X>i||t._started&&e>X||0>Z&&t.lastProgress>0&&e>X||Z>0&&t.lastProgress<1&&X>i)&&(n(t),t.onEndAnimate&&"function"==typeof t.onEndAnimate&&t.onEndAnimate.call(t,Z),t._started=!1)}function o(){var t=[];for(var n in D){var e=D[n];e.lastProgress=0,void 0==e._elem&&(e._elem=$(e.selector)),"function"==typeof e.onInit&&e.onInit.call(e);for(var i in e.keyframes){var o=e.keyframes[i];if(0==o.position&&(-1==$.inArray(e._elem.selector,t)&&e._elem.css(o.properties),t.push(e._elem.selector)),0==o.position){var r=e.keyframes[Number(i)+1];for(var s in r.properties)void 0==o.properties[s]&&/left|top/.test(s)&&(o.properties[s]=e._elem.position()[s])}for(var a=Number(i);a>0;){var c=e.keyframes[a];for(var s in c.properties)void 0==o.properties[s]&&(o.properties[s]=c.properties[s]);a--}"function"==typeof o.onInit&&o.onInit(e)}}}function r(){for(var t in D){"function"!=typeof D[t].startAt&&(D[t].startAt+=z),"function"!=typeof D[t].endAt&&(D[t].endAt+=z);var n=D[t];n._started&&delete n._started}R||(D[0].startAt=0,D[0].keyframes[1].properties.top-=z,D[1].keyframes[0].properties.top-=z,D[1].keyframes[1].properties.top=-1*F+1200)}function s(){for(var t=0;t<D.length;t++)n(D[t])}function a(){var t=P.container;C={wWidth:t.width(),wHeight:t.height(),wCenter:{left:t.width()/2,top:t.height()/2}},P.onResize&&"function"==typeof P.onResize&&P.onResize(C)}function c(t){a()}function u(t){Y.x=t.touches[0].pageX,Y.y=t.touches[0].pageY,U=j}function l(t){}function p(t){if(t.preventDefault(),!B){var n={};n.x=Y.x-t.touches[0].pageX,n.y=Y.y-t.touches[0].pageY,targetScroll=U+2.5*n.y,I(targetScroll)}}function f(t,n,e,i){if(!B){var o=j-n*P.scrollSpeed;I(o)}}function h(t,n,e,i,o){var r=e/i;if(isNaN(t)){var s=/(:?\+|-)?[\d.]+/g,a=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,c=/[a-z\-]+-gradient/g,u=function(t){var n=[];return a.lastIndex=0,t=t.replace(a,function(t){return t.replace(s,function(t){return t/255*100+"%"})}),c.lastIndex=0,t=t.replace(c,function(t){return theDashedCSSPrefix+t}),t=t.replace(s,function(t){return n.push(+t),"?"}),n.unshift(t),n},l=function(t,n,e){if(t.length!==n.length)throw"Can't interpolate between \""+t[0]+'" and "'+n[0]+'"';for(var i=[t[0]],o=1;o<t.length;o++)i[o]=t[o]+(n[o]-t[o])*e;return i},p=function(t){var n=1;return t[0].replace(/\?/g,function(){return t[n++]})},t=u(t),n=u(n),f=l(t,n,r);return p(f)}var h=n-t;return o||(o=TWEEN.Easing.Linear.EaseNone),o(r)*h+t}function d(){return"ontouchstart"in window}function m(t){var n={maxScroll:1e3,tickSpeed:30,scrollSpeed:20,useRAF:!0,tweenSpeed:.3,scrollOffset:0};if(P=$.extend(n,t),D=P.animation,H=P.waypoints,z=P.scrollOffset,R=P.useBrowserScrollBar,F=P.maxScroll,_=d()){var e=P.container[0];e.addEventListener("touchstart",u,!0),e.addEventListener("touchmove",p,!0),e.addEventListener("touchend",l,!0)}return $(window).resize(function(){null!=innerresizeTimeOut&&clearTimeout(innerresizeTimeOut),innerresizeTimeOut=setTimeout(c,100)}),window.requestAnimFrame=function(){return P.useRAF?void 0:function(t){return window.setTimeout(t,P.tickSpeed)};window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,P.tickSpeed)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),o(),r(),a(),this}function g(){!L&&P.startAt&&(X=j=P.startAt),L||(t(),L=!0),P.onStart&&"function"==typeof P.onStart&&P.onStart();for(var n=0;n<H.length;n++)H[n].func("up")}function w(){return C}function E(){return X}function v(){return F}function x(t){F=t}function T(t){j=t,X=t-1}function I(t){B||(t>=F||0>=t?scrollMouseDown||!infinity?(t>=F&&(t=F),0>=t&&(t=0),j=t):infinity&&(t>=F&&(t=t-F+1,Z=1),0>=t&&(t=F+t-1,Z=-1),A(t)):(j=t,clearTimeout(mouseDownTimer),mouseDownTimer=setTimeout(function(){scrollMouseDown=!1},1500)))}function A(t){if(-1==Z)j=X=F,kikaScroll.setScrollBarPosition(1),s(),j=t;else{j=X=0,kikaScroll.setScrollBarPosition(0);for(var e=0;e<D.length;e++)0!=e&&1!=e&&n(D[e]);D[0]._started=!1,D[1]._started=!1,D[0].lastProgress=0,D[1].lastProgress=0,n(D[0]),n(D[2]),j=t}}function k(t){z=t}function S(){G||(G=setInterval(N,100))}function y(){clearInterval(G)}function N(){j+=5,j>P.maxScroll&&(j=X=0)}function b(){X=j}function W(){B=!0}function M(){B=!1}function O(){return D}var P={},C,L=!1,B=!1,D=null,H=null,z=0,F=0,R,Q=$(window),q=$(document),_=!1,Y={x:0,y:0},U=0,X=0,j=0,Z=0,G;return{init:m,startfunc:g,pause:W,resume:M,getPageInfo:w,getScrollTop:E,getMaxScroll:v,setMaxScroll:x,autoScrollStart:S,autoScrollStop:y,stopScroll:b,setScrollHard:T,scrollTo:I,resize:a,setOffset:k,wheelHandler:f,resetAnimatable:r,forceRender:s,animation:O,isTouch:d}},kikaScroll,animation,waypoints,sectionIndex=[],maxScroll,wWidth,wHeight,topShown=!1,innerresizeTimeOut=null,touchTime=null;$(window).load(function(){wWidth=$(window).width(),wHeight=$(window).height();for(var t=$(".curtains").children(),n=0,e=0;e<t.length;e++){var i=$(t[e]).height();(0==e||3==e||5==e)&&(i=wHeight,0!=e&&600>i&&(i=600)),4==e&&(i+=wHeight);var o=t[e].id,r={};r.id="#"+o,r.tag="#"+o,r.name=o,r.correct=!1,r.position=n,r.height=i,sectionIndex.push(r),n+=i}$("#forceHeight").css({height:n}),sectionIndex[4].offset=wHeight,maxScroll=n,animation=[{selector:"#plunge",startAt:0,endAt:function(){return sectionIndex[1].position},keyframes:[{position:0,properties:{"margin-top":0}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){this.properties["margin-top"]=-wHeight},properties:{}}]},{selector:"#banner .navbar-inner",startAt:function(){return sectionIndex[1].position-50},onEndAnimate:function(){showTop(),$("#banner .brand")[0].onclick="",$("#banner")[0].onmouseover="",$("#banner")[0].onmouseout=""},endAt:function(){return sectionIndex[1].position},keyframes:[{position:0,onInit:function(t){topShown||(hideTop(),$("#banner .brand")[0].onclick=function(){return kikaScroll.gotoSectionTag("#work"),!1},$("#banner")[0].onmouseover=function(){showTop()},$("#banner")[0].onmouseout=function(){hideTop()})},properties:{}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){},properties:{}}]},{selector:"#home",startAt:function(){return sectionIndex[1].position+50},endAt:function(){return sectionIndex[2].position},keyframes:[{position:0,properties:{"margin-top":0}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){this.properties["margin-top"]=-1*sectionIndex[1].height},properties:{}}]},{selector:"#work",startAt:function(){return sectionIndex[1].height},endAt:function(){return sectionIndex[2].position},keyframes:[{position:0,properties:{"margin-top":0}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){this.properties["margin-top"]=-wHeight},properties:{}}]},{selector:"#work",startAt:function(){return sectionIndex[2].position},endAt:function(){return sectionIndex[3].position+$(window).height()},keyframes:[{position:0,onInit:function(t){this.properties["margin-top"]=-wHeight},properties:{}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){this.properties["margin-top"]=-1*sectionIndex[2].height-wHeight},properties:{}}]},{selector:"#blimp",startAt:function(){return sectionIndex[3].position-$(window).height()},endAt:function(){return sectionIndex[4].position+$(window).height()},keyframes:[{position:0,onInit:function(t){},properties:{top:"0%"}},{position:1,ease:TWEEN.Easing.Linear.EaseIn,onInit:function(t){},properties:{top:"-20%"}}]},{selector:"#bigblimptext .blimptext",startAt:function(){return sectionIndex[3].position},endAt:function(){return sectionIndex[4].position},keyframes:[{position:0,onInit:function(t){},onInit:function(t){this.properties.top="100%"},properties:{}},{position:1,ease:TWEEN.Easing.Quadratic.EaseOut,onInit:function(t){this.properties.top="50%"},properties:{}}]},{selector:"#bigblimptext .blimptext",startAt:function(){return sectionIndex[4].position},endAt:function(){return sectionIndex[4].position+sectionIndex[4].height/2},keyframes:[{position:0,onInit:function(t){},onInit:function(t){this.properties.top="50%"},properties:{}},{position:1,ease:TWEEN.Easing.Quadratic.EaseIn,onInit:function(t){this.properties.top="10%"},properties:{}}]},{selector:"#about",startAt:function(){return sectionIndex[4].position},endAt:function(){return sectionIndex[5].position+$(window).height()},keyframes:[{position:0,onInit:function(t){},properties:{"margin-top":0}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){this.properties["margin-top"]=-1*sectionIndex[4].height-wHeight},properties:{}}]},{selector:"#blimp",startAt:function(){return sectionIndex[4].position+sectionIndex[4].height/2},endAt:function(){return sectionIndex[4].position+sectionIndex[4].height/2+1},keyframes:[{position:0,properties:{"z-index":1}},{position:1,ease:TWEEN.Easing.Linear.EaseIn,properties:{"z-index":0}}]},{selector:"#space",startAt:function(){return sectionIndex[4].position+sectionIndex[4].height/2},endAt:function(){return sectionIndex[4].position+sectionIndex[4].height/2+1},keyframes:[{position:0,properties:{"z-index":0}},{position:1,ease:TWEEN.Easing.Linear.EaseIn,properties:{"z-index":1}}]},{selector:"#space .blimptext",startAt:function(){return sectionIndex[5].position-$(window).height()},endAt:function(){return sectionIndex[6].position+sectionIndex[6].height-$(window).height()},keyframes:[{position:0,onInit:function(t){this.properties.top="100%"},properties:{"margin-top":0}},{position:1,ease:TWEEN.Easing.Quadratic.EaseOut,onInit:function(t){this.properties.top="0%",this.properties["margin-top"]=($(window).height()-sectionIndex[6].height)/2-$("#space .blimptext").height()/2},properties:{}}]},{selector:"#footer",startAt:function(){return sectionIndex[6].position-$(window).height()},endAt:function(){return sectionIndex[6].position+sectionIndex[6].height-$(window).height()},keyframes:[{position:0,onInit:function(t){this.properties["margin-top"]=0},properties:{}},{position:1,ease:TWEEN.Easing.Linear.EaseNone,onInit:function(t){this.properties["margin-top"]=-1*sectionIndex[6].height},properties:{}}]}],waypoints=[];var s=function(){kikaScroll=new scrollax.make({animation:animation,waypoints:waypoints,sectionIndex:sectionIndex,maxScroll:maxScroll,container:$("#main"),useBrowserScrollBar:!0}),kikaScroll.scrollAnimate.startfunc()},a=function(){$("#plunge").css({top:"-20%"}),$("#logo").css({top:"-40%"}),$("#nextarrow").css({bottom:"5%"}),$("#plunge .blimptext").css({top:"58%"}).show()};window.location.hash.length>0?(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.toLowerCase().indexOf("android")>-1||$(window).scrollTop(0),a(),s(),setTimeout(function(){kikaScroll.gotoSectionTag(window.location.hash,!0)},200),$("#loadcover").delay(500).fadeOut(500)):$("#loadcover").fadeOut(300).promise().done(function(){s(),kikaScroll.scrollAnimate.pause();var t=function(t){if("nextarrow"==t.target.id)return i(),!1;var e=t.target.hash?t.target.hash:$(t.target).closest("a")[0].hash;n(),a(),kikaScroll.scrollAnimate.resume(),setTimeout(function(){kikaScroll.gotoSectionTag(e)},20)},n=function(){$(window).off("scroll",i),$(window).off("mousewheel",i),$(window).off("touchstart",i),$(".scrollTo").off("click",t)},e=!0,i=function(){e&&(e=!1,$("#plunge").animate({top:"-20%"},850),$("#logo").animate({top:"-40%"},500),$("#nextarrow").animate({bottom:"5%"},850),setTimeout(function(){$("#plunge .blimptext").animate({top:"58%"},600,function(){n(),kikaScroll.scrollAnimate.resume()}),$("#plunge .blimptext").delay(100).show()},300)),e=!1};$(window).on("scroll",i),$(window).on("mousewheel",i),$(window).on("touchstart",i),$(".scrollTo").on("click",t)}),$("#plunge .blimptext").css({"margin-top":-1*$("#plunge .blimptext").height()/2}),$("#blimp .blimptext").each(function(t){$(this).css({"margin-top":-1*$(this).height()/2})})});